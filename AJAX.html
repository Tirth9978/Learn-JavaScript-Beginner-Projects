<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AJAX</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <nav class="navbar navbar-dark bg-dark mb-3">
        <div class="container">
            <a href="#" class="navbar-brand">AJAX</a>
        </div>
    </nav>
<div class="container">
  <!-- Button -->
  <button type="button" class="btn btn-primary" id="text-button">TEXT</button>
  <button type="button" class="btn btn-warning" id="JSON-button">JSON</button>
  <button type="button" class="btn btn-success" id="API-button">API</button>
  <div id="text" class="mt-3"></div>
  <div id="JSON" class="mt-3"></div>
  <div id="API" class="mt-3"></div>
</div>

<!-- Bootstrap JS and jQuery (optional, only if you want to use Bootstrap features requiring JS) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    let textButton = document.querySelector("#text-button");
    textButton.addEventListener('click', function() {
        let xhr = new XMLHttpRequest();
        xhr.open('GET', 'data.txt', true);
        xhr.onload =() => {
            if (xhr.status === 200) {
                let data = xhr.responseText

                document.getElementById("text").innerText = data;
            } else {
                alert('Error: ' + xhr.status);
            }
        }
        xhr.send();
    });

    let JSONButton = document.querySelector('#JSON-button');
    JSONButton.addEventListener('click', () => {
        let xhr = new XMLHttpRequest();
        xhr.open('GET', 'JSONData.json', true);
        xhr.onload = () => {
            if (xhr.status == 200) {
                let JSONData = JSON.parse(xhr.responseText);
                displayJSONData(JSONData);
                console.log(JSONData);
            } else {
                alert('Error: ' + xhr.status);
            }
        };
        xhr.send();
    });

    let displayJSONData = (jsonData) => {
        let html = '<ul class="list-group mt-1">';
        jsonData.forEach(item => {
            html += `<li class="list-group-item">${item.name}: ${item.RegNo}</li>`;
        });
        html += '</ul>';
        document.querySelector("#JSON").innerHTML = html;
    };

    let APIButton = document.querySelector('#API-button');
    APIButton.addEventListener('click', () => {
        let xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://api.github.com/users', true);
        xhr.onload = () => {
            if (xhr.status == 200) {
                let APIData = JSON.parse(xhr.responseText);
                displayAPIData(APIData);
                console.log(APIData);
            } else {
                alert('Error: ' + xhr.status);
            }
        };
        xhr.send();
    });

    let displayAPIData = (APIData) => {
        let html = '<ul class="list-group mt-1">';
        APIData.forEach(item => {
            html += `<li class="list-group-item">${item.login}</li>`;
        });
        html += '</ul>';
        document.querySelector("#API").innerHTML = html;
    };
  

</script>

</body>
</html>
